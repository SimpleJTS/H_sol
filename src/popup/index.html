<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>极速交易 - 设置</title>
  <link rel="stylesheet" href="styles.css">
</head>
<body>
  <div class="popup-container">
    <header class="popup-header">
      <div class="popup-title">
        <svg viewBox="0 0 24 24" width="24" height="24"><circle cx="12" cy="12" r="10" fill="#e94560"/><path d="M7 12h10M12 7l5 5-5 5" stroke="white" stroke-width="2" fill="none"/></svg>
        <span>极速交易</span>
      </div>
      <div class="popup-version">v1.0.0</div>
    </header>

    <main class="popup-main">
      <!-- 钱包状态 -->
      <section class="popup-section" id="wallet-section">
        <h2>钱包</h2>
        <div id="wallet-status"></div>
      </section>

      <!-- API配置 -->
      <section class="popup-section">
        <h2>API 配置</h2>
        <div class="form-group">
          <label for="helius-key">Helius API Key</label>
          <input type="password" id="helius-key" placeholder="输入您的 Helius API Key">
          <small>免费获取: <a href="https://helius.dev" target="_blank">helius.dev</a></small>
        </div>
        <div class="form-group">
          <label for="jupiter-key">Jupiter API Key</label>
          <input type="password" id="jupiter-key" placeholder="输入您的 Jupiter API Key">
          <small>获取: <a href="https://station.jup.ag" target="_blank">station.jup.ag</a></small>
        </div>
      </section>

      <!-- 交易设置 -->
      <section class="popup-section">
        <h2>交易设置</h2>
        <div class="form-group">
          <label for="slippage">滑点 (%)</label>
          <input type="number" id="slippage" min="0.1" max="50" step="0.1" value="1">
        </div>
        <div class="form-group">
          <label for="priority-fee">优先费 (SOL)</label>
          <input type="number" id="priority-fee" min="0.0001" max="0.1" step="0.0001" value="0.0001">
        </div>
        <div class="form-group">
          <label class="switch-label">
            <input type="checkbox" id="enable-cache" checked>
            <span class="switch-text">启用缓存预加载</span>
          </label>
          <small>启用后会在输入CA时预加载交易，提升交易速度</small>
        </div>
      </section>

      <!-- 买入预设 -->
      <section class="popup-section">
        <h2>买入预设 (SOL)</h2>
        <div class="preset-grid">
          <input type="number" id="buy-1" min="0.01" step="0.01" value="0.36">
          <input type="number" id="buy-2" min="0.01" step="0.01" value="0.56">
          <input type="number" id="buy-3" min="0.01" step="0.01" value="0.86">
          <input type="number" id="buy-4" min="0.01" step="0.01" value="1.06">
        </div>
      </section>

      <!-- 卖出预设 -->
      <section class="popup-section">
        <h2>卖出预设 (%)</h2>
        <div class="preset-grid">
          <input type="number" id="sell-1" min="1" max="100" step="1" value="10">
          <input type="number" id="sell-2" min="1" max="100" step="1" value="30">
          <input type="number" id="sell-3" min="1" max="100" step="1" value="50">
          <input type="number" id="sell-4" min="1" max="100" step="1" value="100">
        </div>
      </section>

      <!-- 网站设置 -->
      <section class="popup-section">
        <h2>网站设置</h2>
        <div class="form-group">
          <label for="allowed-sites">允许显示插件的网站（每行一个，留空表示所有网站）</label>
          <textarea id="allowed-sites" rows="4" placeholder="例如：&#10;https://axiom.trade&#10;https://example.com"></textarea>
          <small>支持域名或完整URL，例如：axiom.trade 或 https://axiom.trade</small>
        </div>
      </section>

    </main>

    <footer class="popup-footer">
      <button class="btn btn-primary" id="btn-save">保存设置</button>
    </footer>
  </div>

  <!-- 导入钱包弹窗 -->
  <div class="modal" id="import-modal">
    <div class="modal-content">
      <h3>导入钱包</h3>
      <div class="form-group">
        <label for="private-key">私钥 (Base58格式)</label>
        <input type="password" id="private-key" placeholder="输入私钥">
      </div>
      <div class="modal-actions">
        <button class="btn btn-secondary" id="btn-cancel-import">取消</button>
        <button class="btn btn-primary" id="btn-confirm-import">导入</button>
      </div>
    </div>
  </div>

  <script type="module" src="index.js"></script>
</body>
</html>
